"use strict";(()=>{var T=Object.create;var u=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var n=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(o,r)=>(typeof require<"u"?require:o)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var B=(e,o,r,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of D(o))!w.call(e,s)&&s!==r&&u(e,s,{get:()=>o[s],enumerable:!(i=y(o,s))||i.enumerable});return e};var d=(e,o,r)=>(r=e!=null?T(U(e)):{},B(o||!e||!e.__esModule?u(r,"default",{value:e,enumerable:!0}):r,e));var f=(e,o,r)=>new Promise((i,s)=>{var O=t=>{try{p(r.next(t))}catch(m){s(m)}},S=t=>{try{p(r.throw(t))}catch(m){s(m)}},p=t=>t.done?i(t.value):Promise.resolve(t.value).then(O,S);p((r=r.apply(e,o)).next())});var k=n("dotenv/config"),a=d(n("express")),A=d(n("cors"));var R=n("express"),g=n("fs"),E=__dirname,l=(0,R.Router)(),z=e=>e.split(".")[0];(0,g.readdirSync)(E).forEach(e=>{let o=z(e);o!=="index"&&import(`./${o}`).then(r=>{l.use(`/${o}`,r.router)})});var j=n("dotenv/config");var b,x,P,h,c={db:(b=process.env.DATABASE)!=null?b:"",dbPort:(x=process.env.DB_PORT_LOCAL)!=null?x:"",dbPass:(P=process.env.DB_PASSWORD)!=null?P:"",dbUser:(h=process.env.DB_USER)!=null?h:""};var q=n("sequelize"),F=new q.Sequelize(c.db,c.dbUser,c.dbPass,{host:"localhost",dialect:"mysql",logging:console.log}),_=F;var v=(e,o,r)=>{r()};function N(){return f(this,null,function*(){let e=process.env.PORT||3e3,o=(0,a.default)();try{yield _.sync()}catch(r){console.error("Unable to connect to the database:",r),process.exit()}o.use((0,A.default)()).use(a.default.json()).use(v).use(l).listen(e,()=>console.log(`server listening in the port: ${e}`))})}N();})();
